{% extends 'base.html' %}

{% block content %}
    <!-- Check if there are any favorite products -->
    {% if products %}
        <!-- Display title for the favorites section -->
        <h2>Your Favorites</h2>
        <hr>

        <!-- Loop through each product in the 'products' list -->
        {% for product in products %}
            <!-- Create a card for each product -->
            <div class="card me-2 mb-2" style="width: 16rem;">

                <!-- Product image with a fixed width and height -->
                <img style="object-fit: cover;" class="card-img mt-2" width="268" height="200" src="{{ product.image.url }}">

                <div class="mt-3 text-center">
                    <!-- Display product title -->
                    <h5 class="card-title">{{ product.title }}</h5>

                    <!-- Display product price -->
                    <p class="text-muted">${{ product.price }}</p>

                    <!-- Link to product detail page with a 'Buy Now' button -->
                    <a href="{{ product.get_absolute_url }}" class="mb-3 btn btn-primary w-100">Buy Now</a>
                </div>

                <!-- Link to remove product from favorites -->
                <a href="{% url 'shop:remove_from_favorites' product.id %}" class="mb-3 btn btn-outline-danger">Remove</a>
            </div>
        {% endfor %}
    {% else %}
        <!-- If no favorite products, display a message -->
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-8 mt-5 pt-5 text-center">
                <br>
                <!-- Display a message stating the favorites list is empty -->
                <h3 class="text-muted text-capitalize">favorites list is empty..!</h3>

                <!-- Link to go back to the homepage -->
                <a href="/" class="text-primary text-decoration-none">Back</a>
            </div>
            <div class="col-md-2"></div>
        </div>
    {% endif %}
{% endblock %}
